<form
  (ngSubmit)="onSubmit(ContactForm)"
  #ContactForm="ngForm"
  class="contact-form"
>
  <section>
    <div
      class="input-wrapper"
      [ngClass]="{
        'invalid-input-value': name.invalid && focusOnName,
        'valid-input-value': name.valid && focusOnName
      }"
      (click)="focusInputField('name')"
      (blur)="blurInputfield('name')"
    >
      <input
        (blur)="blurInputfield('name')"
        #Name_Input
        #name="ngModel"
        [(ngModel)]="contactData.name"
        name="name"
        type="text"
        required
        placeholder="Your name"
        minlength="3"
      />
      <img src="/assets/img/Frame.png" *ngIf="name.invalid && focusOnName" />
      <img src="/assets/img/Vector.png" *ngIf="name.valid" />
    </div>
    <span class="error-message" *ngIf="name.invalid && focusOnName"
      >Please enter a name</span
    >
  </section>

  <section>
    <div
      class="input-wrapper"
      [ngClass]="{
        'invalid-input-value': email.invalid && focusOnEmail,
        'valid-input-value': email.valid && focusOnEmail
      }"
      (click)="focusInputField('email')"
      (blur)="blurInputfield('email')"
    >
      <input
        (blur)="blurInputfield('email')"
        [(ngModel)]="contactData.email"
        name="email"
        type="text"
        required
        pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}"
        placeholder="Your email"
        #email="ngModel"
      />
      <img src="/assets/img/Frame.png" *ngIf="email.invalid && focusOnEmail" />
      <img src="/assets/img/Vector.png" *ngIf="email.valid" />
    </div>
    <span class="error-message" *ngIf="email.invalid && focusOnEmail"
      >Please enter a valid email</span
    >
  </section>

  <section>
    <div
      class="textarea-wrapper"
      [ngClass]="{
        'invalid-input-value-textarea': message.invalid && focusOnMessage,
        'valid-input-value-textarea': message.valid && focusOnMessage
      }"
      (click)="focusInputField('message')"
      (blur)="blurInputfield('message')"
    >
      <textarea
        [(ngModel)]="contactData.message"
        name="message"
        required
        placeholder="Your message"
        #message="ngModel"
        minlength="5"
      ></textarea>
      <img
        src="/assets/img/Frame.png"
        *ngIf="message.invalid && focusOnMessage"
      />
      <img src="/assets/img/Vector.png" *ngIf="message.valid" />
    </div>
    <span class="error-message" *ngIf="message.invalid && focusOnMessage"
      >Please enter a message</span
    >
  </section>

  <section>
    <div class="checkbox">
      <img [src]="checkboxImg" (click)="changeCheckboxImg()" />
      <p>
        I've read the <a class="privacy-policy">privacy policy</a> and agree to
        the processing of my data as outlined.
      </p>
    </div>
    <span class="error-message" *ngIf="!checkboxChecked"
      >Please accept the privacy policy</span
    >
  </section>
  <button
    [class]="
      ContactForm.valid && checkboxChecked
        ? 'button-settings'
        : 'button-disabled'
    "
    [disabled]="!ContactForm.valid || !checkboxChecked"
  >
    Say hello ;)
  </button>
</form>
